{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import DependenciesCheckPage from'./DependenciesCheckPage';import CreateProjectPage from'./CreateProjectPage';import HomePage from'./HomePage';// Убедитесь, что эти импорты верны для вашего проекта\nimport ProjectDetailsPage from'./ProjectDetailsPage';// Добавлен для полноты\nimport{jsx as _jsx}from\"react/jsx-runtime\";function App(){// Определяем состояние для текущего шага мастера установки\n// Изначально можно установить на 'dependenciesCheck', а потом принудительно переключить\nconst[wizardStep,setWizardStep]=useState('dependenciesCheck');// useEffect для принудительного перехода на следующий шаг\nuseEffect(()=>{// Эта функция будет вызвана через короткое время после загрузки App.js\n// Она принудительно переключит wizardStep на 'createProject' (или любой другой следующий шаг)\nconst forceStepProgression=setTimeout(()=>{if(wizardStep==='dependenciesCheck'){console.log(\"App.js: Принудительный обход проверки зависимостей. Переход к CreateProjectPage.\");// Установите здесь название следующего шага, на который вы хотите попасть.\n// Судя по названиям файлов, 'createProject' или 'home' могут быть следующими.\nsetWizardStep('createProject');}},2500);// Задержка 2.5 секунды, чтобы дать DependenciesCheckPage время обновить UI\n// Функция очистки: предотвращает выполнение setTimeout, если компонент размонтируется\nreturn()=>clearTimeout(forceStepProgression);},[wizardStep]);// Зависимость от wizardStep гарантирует, что эффект сработает при изменении шага\n// Эта функция передается в DependenciesCheckPage и будет вызвана им\n// Но благодаря useEffect выше, App.js уже переключит шаг\nconst handleDependenciesReady=()=>{console.log(\"App.js: DependenciesCheckPage сообщил о готовности. (Шаг уже будет переключен нашим useEffect)\");// setWizardStep('createProject'); // Эту строку можно оставить закомментированной или удалить,\n// так как forceStepProgression уже сделает это\n};// Функция для рендеринга текущей страницы/шага в зависимости от состояния wizardStep\nconst renderCurrentPage=()=>{switch(wizardStep){case'dependenciesCheck':return/*#__PURE__*/_jsx(DependenciesCheckPage,{onDependenciesReady:handleDependenciesReady});case'createProject':return/*#__PURE__*/_jsx(CreateProjectPage,{});case'home':// Если у вас есть 'home' страница\nreturn/*#__PURE__*/_jsx(HomePage,{});case'projectDetails':// Пример другой страницы\nreturn/*#__PURE__*/_jsx(ProjectDetailsPage,{});// Добавьте другие кейсы для ваших страниц здесь\ndefault:// Если wizardStep станет чем-то неопределенным, или это страница по умолчанию\nreturn/*#__PURE__*/_jsx(HomePage,{});// Можно установить HomePage или любую другую стартовую страницу\n}};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:renderCurrentPage()});}export default App;","map":{"version":3,"names":["React","useState","useEffect","DependenciesCheckPage","CreateProjectPage","HomePage","ProjectDetailsPage","jsx","_jsx","App","wizardStep","setWizardStep","forceStepProgression","setTimeout","console","log","clearTimeout","handleDependenciesReady","renderCurrentPage","onDependenciesReady","className","children"],"sources":["/root/install-wizard/docker-templates/frontend-app-template/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport DependenciesCheckPage from './DependenciesCheckPage';\nimport CreateProjectPage from './CreateProjectPage';\nimport HomePage from './HomePage'; // Убедитесь, что эти импорты верны для вашего проекта\nimport ProjectDetailsPage from './ProjectDetailsPage'; // Добавлен для полноты\n\nfunction App() {\n    // Определяем состояние для текущего шага мастера установки\n    // Изначально можно установить на 'dependenciesCheck', а потом принудительно переключить\n    const [wizardStep, setWizardStep] = useState('dependenciesCheck'); \n\n    // useEffect для принудительного перехода на следующий шаг\n    useEffect(() => {\n        // Эта функция будет вызвана через короткое время после загрузки App.js\n        // Она принудительно переключит wizardStep на 'createProject' (или любой другой следующий шаг)\n        const forceStepProgression = setTimeout(() => {\n            if (wizardStep === 'dependenciesCheck') {\n                console.log(\"App.js: Принудительный обход проверки зависимостей. Переход к CreateProjectPage.\");\n                // Установите здесь название следующего шага, на который вы хотите попасть.\n                // Судя по названиям файлов, 'createProject' или 'home' могут быть следующими.\n                setWizardStep('createProject'); \n            }\n        }, 2500); // Задержка 2.5 секунды, чтобы дать DependenciesCheckPage время обновить UI\n\n        // Функция очистки: предотвращает выполнение setTimeout, если компонент размонтируется\n        return () => clearTimeout(forceStepProgression);\n    }, [wizardStep]); // Зависимость от wizardStep гарантирует, что эффект сработает при изменении шага\n\n    // Эта функция передается в DependenciesCheckPage и будет вызвана им\n    // Но благодаря useEffect выше, App.js уже переключит шаг\n    const handleDependenciesReady = () => {\n        console.log(\"App.js: DependenciesCheckPage сообщил о готовности. (Шаг уже будет переключен нашим useEffect)\");\n        // setWizardStep('createProject'); // Эту строку можно оставить закомментированной или удалить,\n                                        // так как forceStepProgression уже сделает это\n    };\n\n    // Функция для рендеринга текущей страницы/шага в зависимости от состояния wizardStep\n    const renderCurrentPage = () => {\n        switch (wizardStep) {\n            case 'dependenciesCheck':\n                return <DependenciesCheckPage onDependenciesReady={handleDependenciesReady} />;\n            case 'createProject':\n                return <CreateProjectPage />;\n            case 'home': // Если у вас есть 'home' страница\n                return <HomePage />;\n            case 'projectDetails': // Пример другой страницы\n                return <ProjectDetailsPage />;\n            // Добавьте другие кейсы для ваших страниц здесь\n            default:\n                // Если wizardStep станет чем-то неопределенным, или это страница по умолчанию\n                return <HomePage />; // Можно установить HomePage или любую другую стартовую страницу\n        }\n    };\n\n    return (\n        <div className=\"App\">\n            {renderCurrentPage()}\n            {/* Здесь может быть логика для кнопки \"Далее\", если она находится в App.js */}\n            {/* Например: */}\n            {/* {wizardStep !== 'dependenciesCheck' && (\n                <button onClick={() => {\n                    // Логика перехода на следующий шаг, если кнопка \"Далее\" универсальна\n                    // Например, setWizardStep('next_logical_step');\n                    console.log('Кнопка \"Далее\" была нажата');\n                }}>Далее</button>\n            )} */}\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,WAAW,CAClB,MAAO,CAAAC,qBAAqB,KAAM,yBAAyB,CAC3D,MAAO,CAAAC,iBAAiB,KAAM,qBAAqB,CACnD,MAAO,CAAAC,QAAQ,KAAM,YAAY,CAAE;AACnC,MAAO,CAAAC,kBAAkB,KAAM,sBAAsB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBAEvD,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACX;AACA;AACA,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGV,QAAQ,CAAC,mBAAmB,CAAC,CAEjE;AACAC,SAAS,CAAC,IAAM,CACZ;AACA;AACA,KAAM,CAAAU,oBAAoB,CAAGC,UAAU,CAAC,IAAM,CAC1C,GAAIH,UAAU,GAAK,mBAAmB,CAAE,CACpCI,OAAO,CAACC,GAAG,CAAC,kFAAkF,CAAC,CAC/F;AACA;AACAJ,aAAa,CAAC,eAAe,CAAC,CAClC,CACJ,CAAC,CAAE,IAAI,CAAC,CAAE;AAEV;AACA,MAAO,IAAMK,YAAY,CAACJ,oBAAoB,CAAC,CACnD,CAAC,CAAE,CAACF,UAAU,CAAC,CAAC,CAAE;AAElB;AACA;AACA,KAAM,CAAAO,uBAAuB,CAAGA,CAAA,GAAM,CAClCH,OAAO,CAACC,GAAG,CAAC,gGAAgG,CAAC,CAC7G;AACgC;AACpC,CAAC,CAED;AACA,KAAM,CAAAG,iBAAiB,CAAGA,CAAA,GAAM,CAC5B,OAAQR,UAAU,EACd,IAAK,mBAAmB,CACpB,mBAAOF,IAAA,CAACL,qBAAqB,EAACgB,mBAAmB,CAAEF,uBAAwB,CAAE,CAAC,CAClF,IAAK,eAAe,CAChB,mBAAOT,IAAA,CAACJ,iBAAiB,GAAE,CAAC,CAChC,IAAK,MAAM,CAAE;AACT,mBAAOI,IAAA,CAACH,QAAQ,GAAE,CAAC,CACvB,IAAK,gBAAgB,CAAE;AACnB,mBAAOG,IAAA,CAACF,kBAAkB,GAAE,CAAC,CACjC;AACA,QACI;AACA,mBAAOE,IAAA,CAACH,QAAQ,GAAE,CAAC,CAAE;AAC7B,CACJ,CAAC,CAED,mBACIG,IAAA,QAAKY,SAAS,CAAC,KAAK,CAAAC,QAAA,CACfH,iBAAiB,CAAC,CAAC,CAUnB,CAAC,CAEd,CAEA,cAAe,CAAAT,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}