# VSS - –ò—Å—á–µ—Ä–ø—ã–≤–∞—é—â–µ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–±–æ—Ç–µ —Å —Å–∏—Å—Ç–µ–º–æ–π

## üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–í–≤–µ–¥–µ–Ω–∏–µ](#–≤–≤–µ–¥–µ–Ω–∏–µ)
2. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
3. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–∏—Å—Ç–µ–º—ã)
4. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ)
5. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
6. [–†–∞–±–æ—Ç–∞ —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏](#—Ä–∞–±–æ—Ç–∞-—Å-—Å–µ—Ä–≤–∏—Å–∞–º–∏)
7. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Ä–æ–ª—è–º–∏](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏-–∏-—Ä–æ–ª—è–º–∏)
8. [–†–∞–±–æ—Ç–∞ —Å–æ —Å–ª–æ—Ç–∞–º–∏ –∏ —Ç—Ä–∞–Ω–∫–∞–º–∏](#—Ä–∞–±–æ—Ç–∞-—Å–æ-—Å–ª–æ—Ç–∞–º–∏-–∏-—Ç—Ä–∞–Ω–∫–∞–º–∏)
9. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–≤–æ–Ω–∫–∞–º–∏](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–∑–≤–æ–Ω–∫–∞–º–∏)
10. [CRM —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª](#crm-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª)
11. [–ê–≤—Ç–æ–¥–æ–∑–≤–æ–Ω](#–∞–≤—Ç–æ–¥–æ–∑–≤–æ–Ω)
12. [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ](#–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-–∏-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
13. [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–ø–æ–ª–∞–¥–æ–∫)
14. [API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#api-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
15. [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
16. [–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ](#—Ä–µ–∑–µ—Ä–≤–Ω–æ–µ-–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)
17. [–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ](#–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ)
18. [–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã](#—á–∞—Å—Ç–æ-–∑–∞–¥–∞–≤–∞–µ–º—ã–µ-–≤–æ–ø—Ä–æ—Å—ã)

---

## –í–≤–µ–¥–µ–Ω–∏–µ

### –ß—Ç–æ —Ç–∞–∫–æ–µ VSS?

VSS (Virtual System Stack) - —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Ç–µ–ª–µ–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥–µ—Ç–µ—Ä–æ–≥–µ–Ω–Ω—ã–º–∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ —Å–ª–æ—Ç–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. –°–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

- ‚úÖ –ü–æ–ª–Ω—É—é SIP-–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ Kamailio –∏ Asterisk
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ—Ç–∞–º–∏ (AUTO, MF, LS)
- ‚úÖ –ê–≤—Ç–æ–¥–æ–∑–≤–æ–Ω –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏—è–º–∏
- ‚úÖ CRM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é
- ‚úÖ RBAC —Å–∏—Å—Ç–µ–º—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ Real-time –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ WebSocket
- ‚úÖ –£–¥–∞–ª–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º —á–µ—Ä–µ–∑ Guacamole
- ‚úÖ Event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –Ω–∞ –±–∞–∑–µ RabbitMQ

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∫–∞–º–∏ –∏ —Å–ª–æ—Ç–∞–º–∏** - —Å–æ–∑–¥–∞–Ω–∏–µ, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- **SIP —Ç–µ–ª–µ—Ñ–æ–Ω–∏—è** - –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏
- **–ê–≤—Ç–æ–¥–æ–∑–≤–æ–Ω** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏ –∑–≤–æ–Ω–∫–æ–≤
- **CRM** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏–¥–∞–º–∏, –∫–ª–∏–µ–Ω—Ç–∞–º–∏, –∑–∞–º–µ—Ç–∫–∞–º–∏
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - Prometheus + Grafana
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - JWT + RBAC
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker
docker --version  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 20.10+

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker Compose
docker-compose --version  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 2.0+ –∏–ª–∏ 1.29+

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
df -h  # –ú–∏–Ω–∏–º—É–º 20GB —Å–≤–æ–±–æ–¥–Ω–æ
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (Linux/Mac)

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
git clone <repository-url>
cd vss-omni-telecom

# 2. –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞
cp .env.example .env
nano .env  # –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –ø–∞—Ä–æ–ª–∏

# 3. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
chmod +x scripts/deploy-vss-demiurge.sh
./scripts/deploy-vss-demiurge.sh
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (Windows PowerShell)

```powershell
# 1. –ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd C:\Users\Administrator\Documents\vss-omni-telecom

# 2. –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞
Copy-Item .env.example .env
notepad .env  # –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –ø–∞—Ä–æ–ª–∏

# 3. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
.\scripts\deploy-vss-demiurge.ps1
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose -f docker-compose.vss-demiurge.yml ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose -f docker-compose.vss-demiurge.yml logs -f
```

### –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã:

| –°–µ—Ä–≤–∏—Å | URL | –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ |
|--------|-----|----------------|
| VSS Workspace | http://localhost:3000 | –°–º. —Ä–∞–∑–¥–µ–ª "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏" |
| RabbitMQ Management | http://localhost:15672 | vss-admin / –ø–∞—Ä–æ–ª—å –∏–∑ .env |
| VSS OTTB API | http://localhost:8083 | JWT —Ç–æ–∫–µ–Ω |
| VSS DCI API | http://localhost:8082 | JWT —Ç–æ–∫–µ–Ω |
| VSS POINT API | http://localhost:8081 | JWT —Ç–æ–∫–µ–Ω |
| Guacamole | http://localhost:8080 | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å VSS |
| Prometheus | http://localhost:9090 | - |
| Grafana | http://localhost:3001 | admin / –ø–∞—Ä–æ–ª—å –∏–∑ .env |

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   VSS DEMIURGE PLATFORM                  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ    OTTB     ‚îÇ  ‚îÇ    DCI      ‚îÇ  ‚îÇ    WORKSPACE    ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  Core       ‚îÇ  ‚îÇ  Data & CI  ‚îÇ  ‚îÇ  UI & CRM       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  :8083      ‚îÇ  ‚îÇ  :8082      ‚îÇ  ‚îÇ  :3000          ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ              POINT (RBAC & Auth)                  ‚îÇ ‚îÇ
‚îÇ  ‚îÇ                    :8081                          ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
          ‚îÇ               ‚îÇ               ‚îÇ
          ‚ñº               ‚ñº               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  CUSTOM GUACAMOLE ‚îÇ ‚îÇ   PBX       ‚îÇ ‚îÇ   RabbitMQ  ‚îÇ
‚îÇ   Web Gateway     ‚îÇ ‚îÇ Asterisk/FS ‚îÇ ‚îÇ   Message   ‚îÇ
‚îÇ     :8080         ‚îÇ ‚îÇ  Kamailio   ‚îÇ ‚îÇ     Bus     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ
          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  PHYSICAL LAYER                          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  AUTO HUB   ‚îÇ  ‚îÇ   MF HUB    ‚îÇ  ‚îÇ  LOCAL SCRIPT   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ 10+ slots   ‚îÇ  ‚îÇ 20+ phones  ‚îÇ  ‚îÇ PowerShell     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ Magneticola ‚îÇ  ‚îÇ Mobile Farm ‚îÇ  ‚îÇ AutoHotkey     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö (F-Flow)

–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö —Å–º. –≤ [VSS-ARCHITECTURE-EXPLAINED.md](VSS-ARCHITECTURE-EXPLAINED.md)

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# RabbitMQ
RABBITMQ_PASSWORD=your_secure_password_here

# PostgreSQL
DB_PASSWORD=your_secure_password_here

# Redis
REDIS_PASSWORD=your_secure_password_here

# JWT Secret
JWT_SECRET=your_jwt_secret_here_change_in_production

# Grafana
GRAFANA_PASSWORD=your_secure_password_here

# Asterisk AMI
AMI_PASSWORD=your_ami_password_here

# SIP Provider (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
PROVIDER_HOST=sip.provider.com
PROVIDER_PORT=5060
PROVIDER_DOMAIN=provider.com
PROVIDER_USER=your_username
PROVIDER_PASSWORD=your_password

# Web Port
WEB_PORT=8181
```

#### 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç—ã –≤ `database/init/`.

### –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Docker Compose

#### –ü–æ–ª–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

```bash
docker-compose -f docker-compose.vss-demiurge.yml up -d
```

#### –£–ø—Ä–æ—â–µ–Ω–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

```bash
docker-compose -f docker-compose.vss-demiurge-simple.yml up -d
```

#### Production —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

```bash
docker-compose -f docker-compose.production.yml up -d
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.vss-demiurge.yml ps

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
docker-compose -f docker-compose.vss-demiurge.yml logs --tail=100

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.vss-demiurge.yml ps --format "table {{.Name}}\t{{.Status}}"
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.vss-demiurge.yml stop

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose -f docker-compose.vss-demiurge.yml down

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º volumes (–û–°–¢–û–†–û–ñ–ù–û: —É–¥–∞–ª–∏—Ç –¥–∞–Ω–Ω—ã–µ!)
docker-compose -f docker-compose.vss-demiurge.yml down -v
```

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è RabbitMQ

–§–∞–π–ª: `config/rabbitmq/definitions.json`

```json
{
  "queues": [
    {
      "name": "autodial.leads",
      "durable": true,
      "arguments": {
        "x-message-ttl": 3600000
      }
    },
    {
      "name": "slot.status",
      "durable": true
    }
  ],
  "exchanges": [
    {
      "name": "vss.events",
      "type": "topic",
      "durable": true
    }
  ],
  "bindings": [
    {
      "source": "vss.events",
      "destination": "slot.status",
      "routing_key": "slot.*"
    }
  ]
}
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Kamailio

–§–∞–π–ª—ã: `config/sip/kamailio/`

–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `kamailio.cfg` - –ì–ª–∞–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `database.cfg` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î
- `routing.cfg` - –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Asterisk

–§–∞–π–ª—ã: `config/sip/asterisk/`

–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `sip.conf` - SIP –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `extensions.conf` - Dialplan
- `manager.conf` - AMI –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è NGINX

–§–∞–π–ª: `config/nginx/nginx-vss.conf`

```nginx
upstream vss_workspace {
    server vss-workspace:3000;
}

upstream vss_ottb {
    server vss-ottb:8083;
}

server {
    listen 80;
    server_name localhost;

    location / {
        proxy_pass http://vss_workspace;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }

    location /api/ottb {
        proxy_pass http://vss_ottb;
    }
}
```

---

## –†–∞–±–æ—Ç–∞ —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏

### VSS OTTB (Omni Telecom Trunk Builder)

**–ü–æ—Ä—Ç:** 8083  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∫–∞–º–∏ –∏ —Å–ª–æ—Ç–∞–º–∏

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∫–∞–º–∏ (AUTO, MF, LS)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ—Ç–∞–º–∏
- SIP –Ω—É–º–µ—Ä–∞—Ü–∏—è
- –ê–≤—Ç–æ–¥–æ–∑–≤–æ–Ω
- GACS —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- CDR —Å–±–æ—Ä

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
curl http://localhost:8083/api/health
```

#### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ª–æ—Ç–æ–≤

```bash
curl -H "Authorization: Bearer <token>" http://localhost:8083/api/slots
```

### VSS DCI (Distributed Control Infrastructure)

**–ü–æ—Ä—Ç:** 8082  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ –∏ CI/CD

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ PostgreSQL
- CI/CD –ø–∞–π–ø–ª–∞–π–Ω—ã
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- Event processing

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
curl http://localhost:8082/api/health
```

### VSS POINT (RBAC & Auth)

**–ü–æ—Ä—Ç:** 8081  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- RBAC —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏

#### –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

```bash
curl -X POST http://localhost:8081/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "admin",
    "password": "your_password"
  }'
```

### VSS WORKSPACE

**–ü–æ—Ä—Ç:** 3000  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** UI Backend –∏ CRM

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- REST API –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- CRM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- WebSocket —Å–µ—Ä–≤–µ—Ä
- Dashboard API
- Guacamole –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
curl http://localhost:3000/api/health
```

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Ä–æ–ª—è–º–∏

### –†–æ–ª–∏ –≤ —Å–∏—Å—Ç–µ–º–µ

#### 1. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (admin)

**–ü—Ä–∞–≤–∞:**
- –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Ä–æ–ª—è–º–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ARCHONTs
- –ó–∞–ø—É—Å–∫ CI/CD –ø–∞–π–ø–ª–∞–π–Ω–æ–≤

#### 2. –û–ø–µ—Ä–∞—Ç–æ—Ä (operator)

**–ü—Ä–∞–≤–∞:**
- –†–∞–±–æ—Ç–∞ —Å–æ —Å–ª–æ—Ç–∞–º–∏
- –ò–Ω–∏—Ü–∏–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–≤–æ–Ω–∫–∞–º–∏
- –†–∞–±–æ—Ç–∞ —Å CRM (—á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å)
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–ª–æ—Ç–∞–º —á–µ—Ä–µ–∑ Guacamole (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ)

#### 3. –ü—Ä–æ–¥–∞–≤–µ—Ü (seller)

**–ü—Ä–∞–≤–∞:**
- –†–∞–±–æ—Ç–∞ —Å CRM
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏–¥–∞–º–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–≤–æ–Ω–∫–æ–≤ (read-only)
- –°–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫

#### 4. –°—É–ø–µ—Ä–≤–∏–∑–æ—Ä (supervisor)

**–ü—Ä–∞–≤–∞:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö (read-only)
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã
- –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
curl -X POST http://localhost:8081/api/users \
  -H "Authorization: Bearer <admin_token>" \
  -H "Content-Type: application/json" \
  -d '{
    "username": "operator1",
    "password": "secure_password",
    "email": "operator1@example.com",
    "role": "operator"
  }'
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Ä–æ–ª–∏

```bash
curl -X POST http://localhost:8081/api/roles \
  -H "Authorization: Bearer <admin_token>" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "custom_role",
    "permissions": {
      "calls": ["read", "create"],
      "slots": ["read"],
      "crm": ["read", "write"]
    }
  }'
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤

```bash
curl "http://localhost:8081/api/point/rolecheck?action=slots.read" \
  -H "Authorization: Bearer <token>"
```

---

## –†–∞–±–æ—Ç–∞ —Å–æ —Å–ª–æ—Ç–∞–º–∏ –∏ —Ç—Ä–∞–Ω–∫–∞–º–∏

### –¢–∏–ø—ã —Ç—Ä–∞–Ω–∫–æ–≤

#### AUTO HUB
- **–¢–∏–ø:** auto
- **–í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** 10+ —Å–ª–æ—Ç–æ–≤
- **SIP –Ω—É–º–µ—Ä–∞—Ü–∏—è:** 6xxx (6001, 6002, ...)
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã —Å Magneticola

#### MF HUB (Mobile Farm)
- **–¢–∏–ø:** mf
- **–í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** 20+ —Å–ª–æ—Ç–æ–≤
- **SIP –Ω—É–º–µ—Ä–∞—Ü–∏—è:** 7xxx (7001, 7002, ...)
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

#### LS HUB (Local Script)
- **–¢–∏–ø:** ls
- **–í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è
- **SIP –Ω—É–º–µ—Ä–∞—Ü–∏—è:** 8xxx (8001, 8002, ...)
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –õ–æ–∫–∞–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã (PowerShell, AutoHotkey)

### –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∫–∞

```bash
curl -X POST http://localhost:8083/api/trunks \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "AUTO HUB 1",
    "type": "auto",
    "capacity": 10,
    "description": "Primary AUTO hub"
  }'
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–ª–æ—Ç–∞

```bash
curl -X POST http://localhost:8083/api/slots \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{
    "trunk_id": 1,
    "device_id": "device_001",
    "type": "auto"
  }'
```

### –°—Ç–∞—Ç—É—Å—ã —Å–ª–æ—Ç–æ–≤

```
IDLE ‚Üí ASSIGNED ‚Üí REGISTERING ‚Üí READY ‚Üí CALLING ‚Üí ACTIVE_CALL ‚Üí POSTCALL ‚Üí IDLE
                                                                      ‚Üì
                                                                    FAULT
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ª–æ—Ç–æ–≤

```bash
# –í—Å–µ —Å–ª–æ—Ç—ã
curl -H "Authorization: Bearer <token>" http://localhost:8083/api/slots

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–ª–æ—Ç
curl -H "Authorization: Bearer <token>" http://localhost:8083/api/slots/44

# –°–ª–æ—Ç—ã –ø–æ —Ç—Ä–∞–Ω–∫—É
curl -H "Authorization: Bearer <token>" "http://localhost:8083/api/slots?trunk_id=1"
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–ª–æ—Ç–æ–≤

```bash
# –°–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —Å–ª–æ—Ç–∞
curl -H "Authorization: Bearer <token>" http://localhost:8083/api/monitor/slots/44
```

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–≤–æ–Ω–∫–∞–º–∏

### –ò–Ω–∏—Ü–∏–∞—Ü–∏—è –∑–≤–æ–Ω–∫–∞

```bash
curl -X POST http://localhost:8083/api/call/start \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{
    "slot_id": 44,
    "phone_number": "+79991234567",
    "caller_id": "+79991111111"
  }'
```

### –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∑–≤–æ–Ω–∫–∞

```bash
curl -X POST http://localhost:8083/api/call/end \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{
    "call_id": "c_882",
    "reason": "completed"
  }'
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–≤–æ–Ω–∫–æ–≤

```bash
curl -H "Authorization: Bearer <token>" http://localhost:3000/api/calls/active
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ –∑–≤–æ–Ω–∫–æ–≤

```bash
curl -H "Authorization: Bearer <token>" "http://localhost:3000/api/calls?date=2025-01-15"
```

### CDR –∑–∞–ø–∏—Å–∏

```bash
curl -H "Authorization: Bearer <token>" "http://localhost:8083/api/cdr/records?start_date=2025-01-15&end_date=2025-01-16"
```

### WebSocket –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∑–≤–æ–Ω–∫–∏

```javascript
const socket = io('http://localhost:3000');

socket.on('connect', () => {
  socket.emit('subscribe:calls');
});

socket.on('call.update', (data) => {
  console.log('Call update:', data);
});

socket.on('slot.update', (data) => {
  console.log('Slot update:', data);
});
```

---

## CRM —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### –°–æ–∑–¥–∞–Ω–∏–µ –ª–∏–¥–∞

```bash
curl -X POST http://localhost:3000/api/crm/leads \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{
    "client_name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "phone": "+79991234567",
    "email": "ivan@example.com",
    "status": "new",
    "assigned_seller": "seller_uuid"
  }'
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–∏–¥–æ–≤

```bash
# –í—Å–µ –ª–∏–¥—ã
curl -H "Authorization: Bearer <token>" http://localhost:3000/api/crm/leads

# –õ–∏–¥—ã –ø—Ä–æ–¥–∞–≤—Ü–∞
curl -H "Authorization: Bearer <token>" "http://localhost:3000/api/crm/leads?assigned_seller=seller_uuid"

# –õ–∏–¥—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É
curl -H "Authorization: Bearer <token>" "http://localhost:3000/api/crm/leads?status=new"
```

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏

```bash
curl -X POST http://localhost:3000/api/crm/note \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{
    "call_id": "c_882",
    "lead_id": "lead_uuid",
    "text": "–ö–ª–∏–µ–Ω—Ç –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω –≤ –ø—Ä–æ–¥—É–∫—Ç–µ",
    "type": "call_note"
  }'
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–º–µ—Ç–æ–∫

```bash
# –ó–∞–º–µ—Ç–∫–∏ –ø–æ –∑–≤–æ–Ω–∫—É
curl -H "Authorization: Bearer <token>" http://localhost:3000/api/crm/notes/c_882

# –ó–∞–º–µ—Ç–∫–∏ –ø–æ –ª–∏–¥—É
curl -H "Authorization: Bearer <token>" "http://localhost:3000/api/crm/notes?lead_id=lead_uuid"
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ª–∏–¥–∞

```bash
curl -X PATCH http://localhost:3000/api/crm/leads/lead_uuid \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{
    "status": "contacted"
  }'
```

---

## –ê–≤—Ç–æ–¥–æ–∑–≤–æ–Ω

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏

```bash
curl -X POST http://localhost:8083/api/autodialer/campaigns \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Campaign 2025-01",
    "leads": [
      {"phone": "+79991234567", "name": "Client 1"},
      {"phone": "+79991234568", "name": "Client 2"}
    ],
    "settings": {
      "max_concurrent_calls": 5,
      "retry_count": 3,
      "retry_delay": 300
    }
  }'
```

### –ó–∞–ø—É—Å–∫ –∫–∞–º–ø–∞–Ω–∏–∏

```bash
curl -X POST http://localhost:8083/api/autodialer/run-campaign \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{
    "campaign_id": "campaign_uuid"
  }'
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–∞–º–ø–∞–Ω–∏–∏

```bash
curl -X POST http://localhost:8083/api/autodialer/stop-campaign \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{
    "campaign_id": "campaign_uuid"
  }'
```

### –°—Ç–∞—Ç—É—Å –∫–∞–º–ø–∞–Ω–∏–∏

```bash
curl -H "Authorization: Bearer <token>" http://localhost:8083/api/autodialer/campaigns/campaign_uuid/status
```

### –†–∞–±–æ—Ç–∞ —Å –æ—á–µ—Ä–µ–¥—å—é –ª–∏–¥–æ–≤ (F-01)

–õ–∏–¥—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–º–µ—â–∞—é—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å RabbitMQ `autodial.leads` –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Å–ª–æ—Ç–∞–º–∏ –ø–æ –º–µ—Ä–µ –∏—Ö –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏.

---

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### Prometheus –º–µ—Ç—Ä–∏–∫–∏

#### –î–æ—Å—Ç—É–ø –∫ –º–µ—Ç—Ä–∏–∫–∞–º

- VSS OTTB: http://localhost:8083/metrics
- VSS DCI: http://localhost:8082/metrics
- VSS POINT: http://localhost:8081/metrics
- VSS Workspace: http://localhost:3000/metrics

#### –ü—Ä–æ—Å–º–æ—Ç—Ä –º–µ—Ç—Ä–∏–∫

```bash
curl http://localhost:8083/metrics
```

### Grafana –¥–∞—à–±–æ—Ä–¥—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3001
2. –í–æ–π–¥–∏—Ç–µ (admin / –ø–∞—Ä–æ–ª—å –∏–∑ .env)
3. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–∞—à–±–æ—Ä–¥—ã –∏–∑ `config/grafana/dashboards/`

#### –î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–∞—à–±–æ—Ä–¥—ã

- RabbitMQ Monitoring
- PostgreSQL Performance
- Service Health Overview
- Call Statistics
- Slot Monitoring

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

#### –õ–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
docker-compose -f docker-compose.vss-demiurge.yml logs -f
```

#### –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞

```bash
docker-compose -f docker-compose.vss-demiurge.yml logs -f vss-ottb
docker-compose -f docker-compose.vss-demiurge.yml logs -f vss-dci
docker-compose -f docker-compose.vss-demiurge.yml logs -f vss-point
docker-compose -f docker-compose.vss-demiurge.yml logs -f vss-workspace
```

#### –õ–æ–≥–∏ —á–µ—Ä–µ–∑ API

```bash
curl -H "Authorization: Bearer <token>" "http://localhost:8082/api/dci/logs?module=OTTB&severity=error"
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ API

#### –°–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

```bash
curl -H "Authorization: Bearer <token>" http://localhost:8083/api/monitor/system
```

#### –ú–µ—Ç—Ä–∏–∫–∏ —Å–ª–æ—Ç–æ–≤

```bash
curl -H "Authorization: Bearer <token>" http://localhost:8083/api/monitor/slots
```

#### –ú–µ—Ç—Ä–∏–∫–∏ —Å–µ—Ç–∏

```bash
curl -H "Authorization: Bearer <token>" http://localhost:8083/api/monitor/network
```

---

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–ø—É—Å–∫–æ–º

#### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
docker-compose -f docker-compose.vss-demiurge.yml logs

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose -f docker-compose.vss-demiurge.yml ps

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
docker-compose -f docker-compose.vss-demiurge.yml build --no-cache

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose -f docker-compose.vss-demiurge.yml restart
```

#### –ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL
docker exec -it vss-postgres psql -U vss -d vss_db -c "SELECT version();"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü
docker exec -it vss-postgres psql -U vss -d vss_db -c "\dt"

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞
docker exec -i vss-postgres psql -U vss -d vss_db < backup.sql
```

#### –ü—Ä–æ–±–ª–µ–º—ã —Å RabbitMQ

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker exec -it vss-rabbitmq rabbitmqctl status

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—á–µ—Ä–µ–¥–µ–π
docker exec -it vss-rabbitmq rabbitmqctl list_queues

# –°–±—Ä–æ—Å (–û–°–¢–û–†–û–ñ–ù–û!)
docker exec -it vss-rabbitmq rabbitmqctl reset
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å SIP

#### Kamailio –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker exec -it vss-kamailio kamcmd core.ping

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
docker exec -it vss-kamailio kamcmd ul.show

# –õ–æ–≥–∏
docker logs vss-kamailio
```

#### Asterisk –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker exec -it vss-asterisk asterisk -rx "core show version"

# –ü—Ä–æ—Å–º–æ—Ç—Ä SIP –ø–∏—Ä–æ–≤
docker exec -it vss-asterisk asterisk -rx "sip show peers"

# –õ–æ–≥–∏
docker logs vss-asterisk
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π

#### –ù–µ –º–æ–≥—É –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –ë–î:
```bash
docker exec -it vss-postgres psql -U vss -d vss_db -c "SELECT username, role FROM users;"
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ JWT_SECRET –≤ .env

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ VSS POINT:
```bash
docker logs vss-point
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å–æ —Å–ª–æ—Ç–∞–º–∏

#### –°–ª–æ—Ç –Ω–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ SIP

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SIP —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–ª–æ—Ç–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å Kamailio
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–ª–æ—Ç–∞
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å

#### –°–ª–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ ADB –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ DCI
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ DRP –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose -f docker-compose.vss-demiurge.yml restart vss-ottb

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats

# –û—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
docker system prune -a

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
netstat -tulpn | grep LISTEN  # Linux
netstat -ano | findstr LISTENING  # Windows
```

---

## API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ë–∞–∑–æ–≤—ã–π URL

- VSS Workspace: `http://localhost:3000/api`
- VSS OTTB: `http://localhost:8083/api`
- VSS DCI: `http://localhost:8082/api`
- VSS POINT: `http://localhost:8081/api`

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã (–∫—Ä–æ–º–µ `/api/auth/login`) —Ç—Ä–µ–±—É—é—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫:

```
Authorization: Bearer <jwt_token>
```

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

#### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (POINT)

```http
POST /api/auth/login
Content-Type: application/json

{
  "username": "admin",
  "password": "password"
}

Response:
{
  "token": "eyJhbGc...",
  "user": {
    "id": "uuid",
    "username": "admin",
    "role": "admin"
  }
}
```

#### –°–ª–æ—Ç—ã (OTTB)

```http
GET /api/slots
GET /api/slots/:id
POST /api/slots
PATCH /api/slots/:id
DELETE /api/slots/:id
```

#### –ó–≤–æ–Ω–∫–∏ (OTTB)

```http
POST /api/call/start
POST /api/call/end
GET /api/calls
GET /api/calls/:id
```

#### CRM (Workspace)

```http
GET /api/crm/leads
POST /api/crm/leads
PATCH /api/crm/leads/:id
POST /api/crm/note
GET /api/crm/notes/:call_id
```

#### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (POINT)

```http
GET /api/users
POST /api/users
PATCH /api/users/:id
DELETE /api/users/:id
GET /api/roles
POST /api/roles
```

–ü–æ–ª–Ω–∞—è API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [API-DOCUMENTATION.md](API-DOCUMENTATION.md)

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è production

1. **–ò–∑–º–µ–Ω–∏—Ç–µ –≤—Å–µ –ø–∞—Ä–æ–ª–∏** –≤ `.env` —Ñ–∞–π–ª–µ
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL/TLS** —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ firewall** –ø—Ä–∞–≤–∏–ª–∞
4. **–í–∫–ª—é—á–∏—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é** –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
5. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã** –ë–î
6. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏** (–º–∏–Ω–∏–º—É–º 16 —Å–∏–º–≤–æ–ª–æ–≤)
7. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø** –∫ –ø–æ—Ä—Ç–∞–º –∏–∑–≤–Ω–µ
8. **–í–∫–ª—é—á–∏—Ç–µ –∞—É–¥–∏—Ç** –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
9. **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ** –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
10. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ** –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤
nmap localhost

# –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã)
openssl s_client -connect localhost:443

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
curl -H "Authorization: Bearer <token>" http://localhost:8081/api/security/audit
```

---

## –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ PostgreSQL

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
docker exec -t vss-postgres pg_dump -U vss vss_db > backup_$(date +%Y%m%d_%H%M%S).sql

# –°–æ–∑–¥–∞–Ω–∏–µ —Å–∂–∞—Ç–æ–≥–æ –±—ç–∫–∞–ø–∞
docker exec -t vss-postgres pg_dump -U vss vss_db | gzip > backup_$(date +%Y%m%d_%H%M%S).sql.gz
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ PostgreSQL

```bash
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ —Ñ–∞–π–ª–∞
docker exec -i vss-postgres psql -U vss -d vss_db < backup.sql

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ —Å–∂–∞—Ç–æ–≥–æ —Ñ–∞–π–ª–∞
gunzip < backup.sql.gz | docker exec -i vss-postgres psql -U vss -d vss_db
```

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ Redis

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
docker exec -t vss-redis redis-cli SAVE
docker cp vss-redis:/data/dump.rdb ./redis_backup_$(date +%Y%m%d_%H%M%S).rdb
```

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
tar -czf config_backup_$(date +%Y%m%d_%H%M%S).tar.gz config/
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–π—Ç–µ cron –∑–∞–¥–∞—á—É –∏–ª–∏ scheduled task:

```bash
# Linux/Mac (crontab -e)
0 2 * * * /path/to/backup-script.sh

# Windows (Task Scheduler)
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ PowerShell —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
```

---

## –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ OTTB
docker-compose -f docker-compose.vss-demiurge.yml up -d --scale vss-ottb=3

# –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ DCI
docker-compose -f docker-compose.vss-demiurge.yml up -d --scale vss-dci=2
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –Ω–∞–≥—Ä—É–∑–∫–∏

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ NGINX –¥–ª—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –Ω–∞–≥—Ä—É–∑–∫–∏ –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ —Å–µ—Ä–≤–∏—Å–æ–≤.

### –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–î–ª—è production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- PostgreSQL —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—é
- Redis –∫–ª–∞—Å—Ç–µ—Ä
- RabbitMQ –∫–ª–∞—Å—Ç–µ—Ä

---

## –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### Q: –ö–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞?

A: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ PostgreSQL –∏ –æ–±–Ω–æ–≤–∏—Ç–µ –ø–∞—Ä–æ–ª—å:

```sql
UPDATE users SET password = '$2b$10$...' WHERE username = 'admin';
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è.

### Q: –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø —Ç—Ä–∞–Ω–∫–∞?

A: –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∫–æ–¥ VSS OTTB –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –∏ –æ–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é SIP.

### Q: –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–Ω–µ—à–Ω–∏–π SIP –ø—Ä–æ–≤–∞–π–¥–µ—Ä?

A: –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env`:

```env
PROVIDER_HOST=sip.provider.com
PROVIDER_PORT=5060
PROVIDER_DOMAIN=provider.com
PROVIDER_USER=your_username
PROVIDER_PASSWORD=your_password
```

–ò –æ–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Asterisk.

### Q: –ö–∞–∫ —É–≤–µ–ª–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–≤–æ–Ω–∫–æ–≤?

A: –£–≤–µ–ª–∏—á—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ—Ç–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ `max_concurrent_calls` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∞–≤—Ç–æ–¥–æ–∑–≤–æ–Ω–∞.

### Q: –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞–ø–∏—Å—å –∑–≤–æ–Ω–∫–æ–≤?

A: –í–∫–ª—é—á–∏—Ç–µ –∑–∞–ø–∏—Å—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Asterisk –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π.

### Q: –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ Guacamole?

A: Guacamole –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å VSS –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ VSS Workspace –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–ª–æ—Ç–∞–º.

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ VSS](VSS-ARCHITECTURE-EXPLAINED.md)
- [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](VSS-TECH-STACK.md)
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é](DEPLOYMENT-GUIDE.md)
- [API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](API-DOCUMENTATION.md)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](QUICKSTART.md)

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-XX  
**–ü–æ–¥–¥–µ—Ä–∂–∫–∞:** VSS Development Team

