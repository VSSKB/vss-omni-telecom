# VSS DEMIURGE - Secure Access Login

## Описание

Страница входа для доступа к админке проектов VSS. Предоставляет безопасный интерфейс аутентификации перед доступом к административной панели проекта.

## Файлы

- `public/admin-login.html` - Страница входа
- `server.js` - API endpoint `/api/admin-login` для обработки входа

## Использование

### Автоматический доступ

При нажатии на кнопку "Перейти в админку" в Dashboard:
1. Система проверяет статус проекта
2. Если проект не запущен, предлагает его запустить
3. Открывает страницу входа `/admin-login.html` с параметрами проекта
4. После успешного входа перенаправляет на админку проекта

### Прямой доступ

Можно открыть страницу входа напрямую:
```
http://localhost:3000/admin-login.html?projectId=<ID_ПРОЕКТА>&adminUrl=<URL_АДМИНКИ>
```

## Параметры URL

- `projectId` - ID проекта (обязательный)
- `adminUrl` - URL админки проекта (опциональный, будет получен из API если не указан)
- `error=true` - Показывает сообщение об ошибке входа

## Форма входа

### Поля

- **Username** - Имя пользователя VSS
- **Password** - Пароль
- **Access Role** - Роль доступа:
  - Operator
  - Supervisor
  - Administrator
  - Seller

### Обработка

1. Форма отправляет данные на `/api/admin-login`
2. Сервер проверяет credentials (TODO: интеграция с VSS POINT)
3. При успешной аутентификации перенаправляет на админку проекта
4. При ошибке показывает сообщение об ошибке

## API

### POST `/api/admin-login`

Обработка входа в админку проекта.

**Параметры:**
```json
{
  "username": "string",
  "password": "string",
  "role": "operator|supervisor|admin|seller",
  "projectId": "string",
  "adminUrl": "string"
}
```

**Ответ при успехе:**
```json
{
  "success": true,
  "message": "Успешный вход",
  "redirectUrl": "http://localhost:80"
}
```

**Ответ при ошибке:**
```json
{
  "success": false,
  "message": "Имя пользователя и пароль обязательны."
}
```

## Интеграция

### В Dashboard

Функция `openAdminPanel()` в `public/script.js`:
- Проверяет статус проекта
- Запускает проект если необходимо
- Открывает страницу входа с параметрами проекта

### В проекте

Страница входа автоматически:
- Получает информацию о проекте из API
- Определяет URL админки
- Обрабатывает форму входа
- Перенаправляет на админку после успешной аутентификации

## Безопасность

- Пароли передаются через POST запрос
- Форма использует стандартные HTML5 валидации
- TODO: Добавить интеграцию с VSS POINT для реальной аутентификации
- TODO: Добавить защиту от CSRF
- TODO: Добавить rate limiting

## Стилизация

Страница использует:
- VSS Custom Styles (`vss-theme/css/vss-main.css`)
- Google Fonts (Inter)
- Градиентный фон
- Адаптивный дизайн
- Анимации и эффекты

## TODO

- [ ] Интеграция с VSS POINT для реальной аутентификации
- [ ] Добавление защиты от CSRF
- [ ] Добавление rate limiting
- [ ] Сохранение сессии пользователя
- [ ] Поддержка "Запомнить меня"
- [ ] Восстановление пароля
- [ ] Двухфакторная аутентификация

